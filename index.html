<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A Moment</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;}

body{
background:black;
color:white;
font-family:'Poppins',sans-serif;
overflow:hidden;
}

/* SCENES */
.scene{
position:fixed;
width:100%;
height:100%;
display:flex;
justify-content:center;
align-items:center;
flex-direction:column;
text-align:center;
padding:30px;
opacity:0;
visibility:hidden;
transition:opacity 1.5s ease;
}

.scene.active{
opacity:1;
visibility:visible;
z-index:10;
}

/* PASSWORD */
#lock{
background:radial-gradient(circle at center,#111,#000);
z-index:50;
}

input{
padding:12px;
border-radius:10px;
border:none;
margin-top:15px;
font-size:18px;
width:200px;
text-align:center;
}

button{
margin-top:15px;
padding:10px 25px;
border:none;
border-radius:20px;
background:white;
color:black;
cursor:pointer;
}

/* TEXT */
.title{
font-family:'Playfair Display',serif;
font-size:2.8rem;
letter-spacing:3px;
}

.line{
font-size:1.5rem;
max-width:800px;
opacity:0;
animation:fadeIn 2s forwards;
margin:20px 0;
}

@keyframes fadeIn{
to{opacity:1;}
}

/* PHOTO */
.photo-container{
position:relative;
width:85%;
max-width:400px;
height:500px;
overflow:hidden;
border-radius:20px;
box-shadow:0 0 40px rgba(255,255,255,0.2);
}

.photo{
position:absolute;
width:100%;
height:100%;
object-fit:cover;
opacity:0;
transform:scale(1);
transition:opacity 2s ease, transform 8s ease;
}

.photo.active{
opacity:1;
transform:scale(1.1);
}

/* SPARKLES */
.sparkle{
position:absolute;
width:4px;
height:4px;
background:white;
border-radius:50%;
opacity:0.8;
animation:twinkle 2s infinite alternate;
}

@keyframes twinkle{
from{opacity:0.2;}
to{opacity:1;}
}

/* HEARTS */
canvas{
position:absolute;
top:0;
left:0;
pointer-events:none;
}

/* NAME */
.name{
font-family:'Playfair Display',serif;
font-size:3rem;
letter-spacing:4px;
}

/* TRAILER TEXT */
.trailer{
font-size:2rem;
opacity:0;
transition:opacity 2s ease;
}
.show{opacity:1;}
</style>
</head>

<body>

<!-- PASSWORD -->
<div class="scene active" id="lock">
<h2>Enter Password</h2>
<input type="password" id="pass">
<button onclick="start()">Enter</button>
</div>

<!-- STORY -->
<div class="scene" id="story">
<div id="storyText"></div>
</div>

<!-- PHOTOS -->
<div class="scene" id="photos">
<div class="photo-container" id="photoBox">
<img src="photo1.jpg" class="photo" id="p1">
<img src="photo2.jpg" class="photo" id="p2">
<img src="photo3.jpg" class="photo" id="p3">
</div>
</div>

<!-- FINAL -->
<div class="scene" id="final">
<canvas id="hearts"></canvas>
<div class="trailer" id="trailerText">This year…</div>
<div class="name" id="nameReveal" style="margin-top:20px;"></div>
<div class="trailer" id="endLine" style="margin-top:30px;">
Happy Birthday.
</div>
</div>

<script>

function start(){
let value=document.getElementById("pass").value.trim();
if(value==="16"){
switchScene("lock","story");
playStory();
}else{
alert("Incorrect password");
}
}

function switchScene(from,to){
document.getElementById(from).classList.remove("active");
document.getElementById(to).classList.add("active");
}

/* STORY */
const lines=[
"Some people don’t try to shine.",
"They just naturally glow.",
"",
"And when they smile…",
"The world feels softer."
];

function playStory(){
let container=document.getElementById("storyText");
let i=0;

let interval=setInterval(()=>{
let div=document.createElement("div");
div.classList.add("line");
div.innerHTML=lines[i];
container.appendChild(div);
i++;

if(i>=lines.length){
clearInterval(interval);
setTimeout(()=>{
switchScene("story","photos");
startPhotos();
},4000);
}
},2000);
}

/* PHOTOS */
function startPhotos(){
let photos=["p1","p2","p3"];
let i=0;

function showNext(){
if(i>0){
document.getElementById(photos[i-1]).classList.remove("active");
}
if(i<photos.length){
document.getElementById(photos[i]).classList.add("active");
i++;
setTimeout(showNext,6000);
}else{
setTimeout(()=>{
switchScene("photos","final");
startFinal();
},3000);
}
}
showNext();
}

/* SPARKLES */
for(let i=0;i<40;i++){
let s=document.createElement("div");
s.classList.add("sparkle");
s.style.left=Math.random()*100+"%";
s.style.top=Math.random()*100+"%";
document.getElementById("photoBox").appendChild(s);
}

/* FINAL TRAILER */
function startFinal(){
document.getElementById("trailerText").classList.add("show");

setTimeout(()=>{
typeName("Khanak");
},2500);

setTimeout(()=>{
document.getElementById("endLine").classList.add("show");
},7000);

startHearts();
}

/* LETTER BY LETTER */
function typeName(text){
let i=0;
let nameBox=document.getElementById("nameReveal");
let interval=setInterval(()=>{
nameBox.innerHTML+=text[i];
i++;
if(i>=text.length) clearInterval(interval);
},300);
}

/* HEART PARTICLES */
const canvas=document.getElementById("hearts");
const ctx=canvas.getContext("2d");
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;

let hearts=[];

function createHeart(){
hearts.push({
x:Math.random()*canvas.width,
y:canvas.height,
size:Math.random()*10+10,
speed:Math.random()*2+1,
alpha:1
});
}

function drawHeart(x,y,size,alpha){
ctx.save();
ctx.globalAlpha=alpha;
ctx.fillStyle="pink";
ctx.beginPath();
ctx.moveTo(x,y);
ctx.bezierCurveTo(x-size,y-size,x-size*2,y+size/3,x,y+size);
ctx.bezierCurveTo(x+size*2,y+size/3,x+size,y-size,x,y);
ctx.fill();
ctx.restore();
}

function animateHearts(){
ctx.clearRect(0,0,canvas.width,canvas.height);
for(let i=hearts.length-1;i>=0;i--){
let h=hearts[i];
h.y-=h.speed;
h.alpha-=0.005;
drawHeart(h.x,h.y,h.size,h.alpha);
if(h.alpha<=0) hearts.splice(i,1);
}
requestAnimationFrame(animateHearts);
}

setInterval(createHeart,300);
animateHearts();

</script>

</body>
</html>
